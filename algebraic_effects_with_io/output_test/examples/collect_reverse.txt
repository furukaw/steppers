with handler {
    return x -> return (x, ""),
    print(s; k) ->
        do (x, acc) <- k () in
        return (x, join s acc)
} handle (
    with handler {print(s; k) -> k (); print s}
    handle (print "A"; print "B"; print "C")
)
